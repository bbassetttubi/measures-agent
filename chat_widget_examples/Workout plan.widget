{
  "version": "1.0",
  "name": "Workout plan",
  "template": "{\"type\":\"Card\",\"size\":\"sm\",\"children\":[{\"type\":\"Col\",\"gap\":1,\"children\":[{\"type\":\"Caption\",\"value\":{{ ((level ~ \" • \" ~ duration)) | tojson }}},{\"type\":\"Title\",\"value\":{{ (title) | tojson }},\"size\":\"md\"},{\"type\":\"Text\",\"value\":{{ (description) | tojson }},\"size\":\"sm\",\"color\":\"secondary\"}]},{\"type\":\"Divider\",\"flush\":true},{\"type\":\"ListView\",\"children\":[{%- set _c -%}{%-for item in videos -%},{\"type\":\"ListViewItem\",\"key\":{{ (item.id) | tojson }},\"gap\":3,\"onClickAction\":{\"type\":\"workout.play\",\"payload\":{\"id\":{{ (item.id) | tojson }}}},\"children\":[{\"type\":\"Box\",\"background\":\"alpha-10\",\"radius\":\"sm\",\"padding\":2,\"children\":[{\"type\":\"Icon\",\"name\":\"play\",\"size\":\"lg\"}]},{\"type\":\"Col\",\"gap\":0,\"children\":[{\"type\":\"Text\",\"value\":{{ (item.title) | tojson }},\"size\":\"sm\",\"weight\":\"semibold\",\"maxLines\":1},{\"type\":\"Caption\",\"value\":{{ ((item.duration ~ \" • \" ~ item.focus)) | tojson }},\"color\":\"secondary\"}]},{\"type\":\"Spacer\"},{\"type\":\"Button\",\"label\":\"Watch\",\"variant\":\"outline\",\"onClickAction\":{\"type\":\"workout.play\",\"payload\":{\"id\":{{ (item.id) | tojson }}}}}]}{%-endfor-%}{%- endset -%}{{- (_c[1:] if _c and _c[0] == ',' else _c) -}}]},{\"type\":\"Divider\"},{\"type\":\"Row\",\"children\":[{\"type\":\"Button\",\"label\":\"Start plan\",\"style\":\"primary\",\"onClickAction\":{\"type\":\"workout.start\",\"payload\":{\"planId\":{{ (planId) | tojson }}}}},{\"type\":\"Button\",\"label\":\"Swap moves\",\"variant\":\"outline\",\"onClickAction\":{\"type\":\"workout.shuffle\",\"payload\":{\"planId\":{{ (planId) | tojson }}}}}]}]}",
  "jsonSchema": {
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "type": "object",
    "properties": {
      "planId": {
        "type": "string"
      },
      "title": {
        "type": "string"
      },
      "level": {
        "type": "string"
      },
      "duration": {
        "type": "string"
      },
      "description": {
        "type": "string"
      },
      "videos": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string"
            },
            "title": {
              "type": "string"
            },
            "duration": {
              "type": "string"
            },
            "focus": {
              "type": "string"
            }
          },
          "required": [
            "id",
            "title",
            "duration",
            "focus"
          ],
          "additionalProperties": false
        }
      }
    },
    "required": [
      "planId",
      "title",
      "level",
      "duration",
      "description",
      "videos"
    ],
    "additionalProperties": false
  },
  "outputJsonPreview": {
    "type": "Card",
    "size": "sm",
    "children": [
      {
        "type": "Col",
        "gap": 1,
        "children": [
          {
            "type": "Caption",
            "value": "Beginner • 25 min"
          },
          {
            "type": "Title",
            "value": "Quick Full-Body",
            "size": "md"
          },
          {
            "type": "Text",
            "value": "No equipment circuit to hit all major groups.",
            "size": "sm",
            "color": "secondary"
          }
        ]
      },
      {
        "type": "Divider",
        "flush": true
      },
      {
        "type": "ListView",
        "children": [
          {
            "type": "ListViewItem",
            "key": "w1",
            "gap": 3,
            "onClickAction": {
              "type": "workout.play",
              "payload": {
                "id": "w1"
              }
            },
            "children": [
              {
                "type": "Box",
                "background": "alpha-10",
                "radius": "sm",
                "padding": 2,
                "children": [
                  {
                    "type": "Icon",
                    "name": "play",
                    "size": "lg"
                  }
                ]
              },
              {
                "type": "Col",
                "gap": 0,
                "children": [
                  {
                    "type": "Text",
                    "value": "Warm-up Flow",
                    "size": "sm",
                    "weight": "semibold",
                    "maxLines": 1
                  },
                  {
                    "type": "Caption",
                    "value": "5:00 • Mobility",
                    "color": "secondary"
                  }
                ]
              },
              {
                "type": "Spacer"
              },
              {
                "type": "Button",
                "label": "Watch",
                "variant": "outline",
                "onClickAction": {
                  "type": "workout.play",
                  "payload": {
                    "id": "w1"
                  }
                }
              }
            ]
          },
          {
            "type": "ListViewItem",
            "key": "w2",
            "gap": 3,
            "onClickAction": {
              "type": "workout.play",
              "payload": {
                "id": "w2"
              }
            },
            "children": [
              {
                "type": "Box",
                "background": "alpha-10",
                "radius": "sm",
                "padding": 2,
                "children": [
                  {
                    "type": "Icon",
                    "name": "play",
                    "size": "lg"
                  }
                ]
              },
              {
                "type": "Col",
                "gap": 0,
                "children": [
                  {
                    "type": "Text",
                    "value": "Bodyweight Squats",
                    "size": "sm",
                    "weight": "semibold",
                    "maxLines": 1
                  },
                  {
                    "type": "Caption",
                    "value": "6:00 • Legs",
                    "color": "secondary"
                  }
                ]
              },
              {
                "type": "Spacer"
              },
              {
                "type": "Button",
                "label": "Watch",
                "variant": "outline",
                "onClickAction": {
                  "type": "workout.play",
                  "payload": {
                    "id": "w2"
                  }
                }
              }
            ]
          },
          {
            "type": "ListViewItem",
            "key": "w3",
            "gap": 3,
            "onClickAction": {
              "type": "workout.play",
              "payload": {
                "id": "w3"
              }
            },
            "children": [
              {
                "type": "Box",
                "background": "alpha-10",
                "radius": "sm",
                "padding": 2,
                "children": [
                  {
                    "type": "Icon",
                    "name": "play",
                    "size": "lg"
                  }
                ]
              },
              {
                "type": "Col",
                "gap": 0,
                "children": [
                  {
                    "type": "Text",
                    "value": "Push-up Ladder",
                    "size": "sm",
                    "weight": "semibold",
                    "maxLines": 1
                  },
                  {
                    "type": "Caption",
                    "value": "6:00 • Chest & Core",
                    "color": "secondary"
                  }
                ]
              },
              {
                "type": "Spacer"
              },
              {
                "type": "Button",
                "label": "Watch",
                "variant": "outline",
                "onClickAction": {
                  "type": "workout.play",
                  "payload": {
                    "id": "w3"
                  }
                }
              }
            ]
          },
          {
            "type": "ListViewItem",
            "key": "w4",
            "gap": 3,
            "onClickAction": {
              "type": "workout.play",
              "payload": {
                "id": "w4"
              }
            },
            "children": [
              {
                "type": "Box",
                "background": "alpha-10",
                "radius": "sm",
                "padding": 2,
                "children": [
                  {
                    "type": "Icon",
                    "name": "play",
                    "size": "lg"
                  }
                ]
              },
              {
                "type": "Col",
                "gap": 0,
                "children": [
                  {
                    "type": "Text",
                    "value": "Hollow Holds",
                    "size": "sm",
                    "weight": "semibold",
                    "maxLines": 1
                  },
                  {
                    "type": "Caption",
                    "value": "4:00 • Core",
                    "color": "secondary"
                  }
                ]
              },
              {
                "type": "Spacer"
              },
              {
                "type": "Button",
                "label": "Watch",
                "variant": "outline",
                "onClickAction": {
                  "type": "workout.play",
                  "payload": {
                    "id": "w4"
                  }
                }
              }
            ]
          },
          {
            "type": "ListViewItem",
            "key": "w5",
            "gap": 3,
            "onClickAction": {
              "type": "workout.play",
              "payload": {
                "id": "w5"
              }
            },
            "children": [
              {
                "type": "Box",
                "background": "alpha-10",
                "radius": "sm",
                "padding": 2,
                "children": [
                  {
                    "type": "Icon",
                    "name": "play",
                    "size": "lg"
                  }
                ]
              },
              {
                "type": "Col",
                "gap": 0,
                "children": [
                  {
                    "type": "Text",
                    "value": "Cooldown Stretch",
                    "size": "sm",
                    "weight": "semibold",
                    "maxLines": 1
                  },
                  {
                    "type": "Caption",
                    "value": "4:00 • Recovery",
                    "color": "secondary"
                  }
                ]
              },
              {
                "type": "Spacer"
              },
              {
                "type": "Button",
                "label": "Watch",
                "variant": "outline",
                "onClickAction": {
                  "type": "workout.play",
                  "payload": {
                    "id": "w5"
                  }
                }
              }
            ]
          }
        ]
      },
      {
        "type": "Divider"
      },
      {
        "type": "Row",
        "children": [
          {
            "type": "Button",
            "label": "Start plan",
            "style": "primary",
            "onClickAction": {
              "type": "workout.start",
              "payload": {
                "planId": "plan-001"
              }
            }
          },
          {
            "type": "Button",
            "label": "Swap moves",
            "variant": "outline",
            "onClickAction": {
              "type": "workout.shuffle",
              "payload": {
                "planId": "plan-001"
              }
            }
          }
        ]
      }
    ]
  },
  "encodedWidget": "eyJpZCI6ImQxM2I1N2U2LTVlZmItNGY5Mi04NjkyLTc1MTE4YjRkMWQwOCIsIm5hbWUiOiJXb3Jrb3V0IHBsYW4iLCJ2aWV3IjoiPENhcmQgc2l6ZT1cInNtXCI-XG4gIDxDb2wgZ2FwPXsxfT5cbiAgICA8Q2FwdGlvbiB2YWx1ZT17YCR7bGV2ZWx9IOKAoiAke2R1cmF0aW9ufWB9IC8-XG4gICAgPFRpdGxlIHZhbHVlPXt0aXRsZX0gc2l6ZT1cIm1kXCIgLz5cbiAgICA8VGV4dCB2YWx1ZT17ZGVzY3JpcHRpb259IHNpemU9XCJzbVwiIGNvbG9yPVwic2Vjb25kYXJ5XCIgLz5cbiAgPC9Db2w-XG4gIDxEaXZpZGVyIGZsdXNoIC8-XG4gIDxMaXN0Vmlldz5cbiAgICB7dmlkZW9zLm1hcCgoaXRlbSkgPT4gKFxuICAgICAgPExpc3RWaWV3SXRlbVxuICAgICAgICBrZXk9e2l0ZW0uaWR9XG4gICAgICAgIGdhcD17M31cbiAgICAgICAgb25DbGlja0FjdGlvbj17eyB0eXBlOiBcIndvcmtvdXQucGxheVwiLCBwYXlsb2FkOiB7IGlkOiBpdGVtLmlkIH0gfX1cbiAgICAgID5cbiAgICAgICAgPEJveCBiYWNrZ3JvdW5kPVwiYWxwaGEtMTBcIiByYWRpdXM9XCJzbVwiIHBhZGRpbmc9ezJ9PlxuICAgICAgICAgIDxJY29uIG5hbWU9XCJwbGF5XCIgc2l6ZT1cImxnXCIgLz5cbiAgICAgICAgPC9Cb3g-XG4gICAgICAgIDxDb2wgZ2FwPXswfT5cbiAgICAgICAgICA8VGV4dCB2YWx1ZT17aXRlbS50aXRsZX0gc2l6ZT1cInNtXCIgd2VpZ2h0PVwic2VtaWJvbGRcIiBtYXhMaW5lcz17MX0gLz5cbiAgICAgICAgICA8Q2FwdGlvblxuICAgICAgICAgICAgdmFsdWU9e2Ake2l0ZW0uZHVyYXRpb259IOKAoiAke2l0ZW0uZm9jdXN9YH1cbiAgICAgICAgICAgIGNvbG9yPVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L0NvbD5cbiAgICAgICAgPFNwYWNlciAvPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgbGFiZWw9XCJXYXRjaFwiXG4gICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgIG9uQ2xpY2tBY3Rpb249e3sgdHlwZTogXCJ3b3Jrb3V0LnBsYXlcIiwgcGF5bG9hZDogeyBpZDogaXRlbS5pZCB9IH19XG4gICAgICAgIC8-XG4gICAgICA8L0xpc3RWaWV3SXRlbT5cbiAgICApKX1cbiAgPC9MaXN0Vmlldz5cbiAgPERpdmlkZXIgLz5cbiAgPFJvdz5cbiAgICA8QnV0dG9uXG4gICAgICBsYWJlbD1cIlN0YXJ0IHBsYW5cIlxuICAgICAgc3R5bGU9XCJwcmltYXJ5XCJcbiAgICAgIG9uQ2xpY2tBY3Rpb249e3sgdHlwZTogXCJ3b3Jrb3V0LnN0YXJ0XCIsIHBheWxvYWQ6IHsgcGxhbklkIH0gfX1cbiAgICAvPlxuICAgIDxCdXR0b25cbiAgICAgIGxhYmVsPVwiU3dhcCBtb3Zlc1wiXG4gICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICBvbkNsaWNrQWN0aW9uPXt7IHR5cGU6IFwid29ya291dC5zaHVmZmxlXCIsIHBheWxvYWQ6IHsgcGxhbklkIH0gfX1cbiAgICAvPlxuICA8L1Jvdz5cbjwvQ2FyZD4iLCJkZWZhdWx0U3RhdGUiOnsicGxhbklkIjoicGxhbi0wMDEiLCJ0aXRsZSI6IlF1aWNrIEZ1bGwtQm9keSIsImxldmVsIjoiQmVnaW5uZXIiLCJkdXJhdGlvbiI6IjI1IG1pbiIsImRlc2NyaXB0aW9uIjoiTm8gZXF1aXBtZW50IGNpcmN1aXQgdG8gaGl0IGFsbCBtYWpvciBncm91cHMuIiwidmlkZW9zIjpbeyJpZCI6IncxIiwidGl0bGUiOiJXYXJtLXVwIEZsb3ciLCJkdXJhdGlvbiI6IjU6MDAiLCJmb2N1cyI6Ik1vYmlsaXR5In0seyJpZCI6IncyIiwidGl0bGUiOiJCb2R5d2VpZ2h0IFNxdWF0cyIsImR1cmF0aW9uIjoiNjowMCIsImZvY3VzIjoiTGVncyJ9LHsiaWQiOiJ3MyIsInRpdGxlIjoiUHVzaC11cCBMYWRkZXIiLCJkdXJhdGlvbiI6IjY6MDAiLCJmb2N1cyI6IkNoZXN0ICYgQ29yZSJ9LHsiaWQiOiJ3NCIsInRpdGxlIjoiSG9sbG93IEhvbGRzIiwiZHVyYXRpb24iOiI0OjAwIiwiZm9jdXMiOiJDb3JlIn0seyJpZCI6Inc1IiwidGl0bGUiOiJDb29sZG93biBTdHJldGNoIiwiZHVyYXRpb24iOiI0OjAwIiwiZm9jdXMiOiJSZWNvdmVyeSJ9XX0sInN0YXRlcyI6W10sInNjaGVtYSI6ImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCJcblxuY29uc3QgVmlkZW8gPSB6LnN0cmljdE9iamVjdCh7XG4gIGlkOiB6LnN0cmluZygpLFxuICB0aXRsZTogei5zdHJpbmcoKSxcbiAgZHVyYXRpb246IHouc3RyaW5nKCksXG4gIGZvY3VzOiB6LnN0cmluZygpLFxufSlcblxuY29uc3QgV2lkZ2V0U3RhdGUgPSB6LnN0cmljdE9iamVjdCh7XG4gIHBsYW5JZDogei5zdHJpbmcoKSxcbiAgdGl0bGU6IHouc3RyaW5nKCksXG4gIGxldmVsOiB6LnN0cmluZygpLFxuICBkdXJhdGlvbjogei5zdHJpbmcoKSxcbiAgZGVzY3JpcHRpb246IHouc3RyaW5nKCksXG4gIHZpZGVvczogei5hcnJheShWaWRlbyksXG59KVxuXG5leHBvcnQgZGVmYXVsdCBXaWRnZXRTdGF0ZSIsImpzb25TY2hlbWEiOnt9LCJzY2hlbWFNb2RlIjoiem9kIiwic2NoZW1hVmFsaWRpdHkiOiJ2YWxpZCIsInZpZXdWYWxpZGl0eSI6InZhbGlkIiwiZGVmYXVsdFN0YXRlVmFsaWRpdHkiOiJ2YWxpZCJ9"
}